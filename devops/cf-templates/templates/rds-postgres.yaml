AWSTemplateFormatVersion: '2010-09-09'
Metadata: 
  License: Apache-2.0
Description: 'AWS CloudFormation Sample Template RDS_with_DBParameterGroup: Sample
  template showing how to create an Amazon RDS Database Instance with a DBParameterGroup.**WARNING**
  This template creates an Amazon Relational Database Service database instance. You
  will be billed for the AWS resources used if you create a stack from this template.'

Parameters:
  DBName:
    Type: String
  DBUser:
    Type: String
  DBPassword:
    Type: String

Resources:
  MyDB:
    Type: AWS::RDS::DBInstance
    Properties:
      DBName: !Ref 'DBName'
      AllocatedStorage: '5'
      DBInstanceClass: db.t2.small
      Engine: PostgreSQL
      EngineVersion: 11.6-R1
      MasterUsername: !Ref 'DBUser'
      MasterUserPassword: !Ref 'DBPassword'
#       DBParameterGroupName: !Ref 'MyRDSParamGroup'
#   MyRDSParamGroup:
#     Type: AWS::RDS::DBParameterGroup
#     Properties:
#       Family: MySQL5.6
#       Description: lawing database parameter group
#       Parameters:
#         autocommit: '1'
#         general_log: '1'
#         old_passwords: '0'
Outputs:
  JDBCConnectionString:
    Description: JDBC connection string for the database
    Value: !Join ['', ['jdbc:mysql://', !GetAtt [MyDB, Endpoint.Address], ':', !GetAtt [
          MyDB, Endpoint.Port], /, !Ref 'DBName']]